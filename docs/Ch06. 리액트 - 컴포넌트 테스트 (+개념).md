## 6.3 ê³µì‹ ë¬¸ì„œë¡œ í•¨ê»˜ ê³µë¶€ í•˜ê¸° ğŸ¤“

- [ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œ](https://reactjs.org/docs/testing.html)

- [jest](https://jestjs.io/)

- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)

## 6.4 í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

- ê³µì‹ë¬¸ì„œ Testing Overviewë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì í˜€ ìˆë‹¤

### Testing Overview

- There are a few ways to test React components. Broadly, they divide into two categories:

  - Rendering component trees in a simplified test environment and asserting on their output.

  - Running a complete app in a realistic browser environment (also known as â€œend-to-endâ€ tests).

- ì•ì„œ ë°°ìš´ í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œí•˜ë©´,

- ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ë¥¼ ë Œë”ë§í•˜ëŠ” ë¶€ë¶„ì€ ìœ ë‹›ê³¼ í†µí•© í…ŒìŠ¤íŠ¸ë¼ê³  ë³¼ ìˆ˜ ìˆê³  (ì¦‰, ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜ë§ˆë‹¤ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆë‹¤.)

- ì–´í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ë¥¼ ë™ì‘í•˜ëŠ” ê²ƒìœ¼ E2E í…ŒìŠ¤íŠ¸ ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

## 6.5 ë¬´ì—‡ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë‚˜?

### Tradeoffs

- When choosing testing tools, it is worth considering a few tradeoffs:

- **Iteration speed vs Realistic environment:** Some tools offer a very quick feedback loop between making a change and seeing the result, but donâ€™t model the browser behavior precisely. Other tools might use a real browser environment, but reduce the iteration speed and are flakier on a continuous integration server.

  - Iteration speedì™€ Realistic environmentëŠ” ë‘˜ ë‹¤ ê°€ì ¸ê°ˆ ìˆ˜ ì—†ë‹¤

  - Iteration speed

    - íŠ¹ì •í•œ ì¼ì„ ì‹œì‘í•´ì„œ ëë‚  ë•Œ ê¹Œì§€ ê±¸ë¦¬ëŠ” ì†ë„

    - ê¸°ëŠ¥ì„ í•˜ë‚˜ êµ¬í˜„í•˜ê³ , í…ŒìŠ¤íŒ…ì„ ì‘ì„±í•˜ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ê²€ì¦í•˜ëŠ” ì´ í•œ ë°”í€´ë¥¼ Iterationì´ë¼ê³  í•˜ëŠ”ë°, ì´ê²ƒì´ ë¹ ë¥¼ ìˆ˜ë¡ Iteration speedê°€ ë¹ ë¥¸ ê²ƒ

  - Realistic environment

    - ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ìš°ë¦¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ê³¼ ìµœëŒ€í•œ ê°€ê¹Œìš´ ê²ƒ

  - are flakier on a continuous integration server.

    - flakier: ëë‹¤ ì•ˆ ëë‹¤ í•˜ëŠ” ê²ƒ

    - ë§ˆìŠ¤í„° ë¸Œëœì¹˜ì— ë¨¸ì§€í•˜ë©´, ê·¸ ë•Œ ë§ˆë‹¤ CI ì„œë²„ì—ì„œ ê¸°ì¡´ì— ìˆëŠ” ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

    - ì‹¤ì œ ë¸Œë¼ìš°ì € í™˜ê²½ê³¼ ê°€ê¹Œìš´ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ í•˜ë‹¤ë³´ë‹ˆ ë„¤íŠ¸ì›Œí¬ í†µì‹ ë„ í•˜ê²Œ ë˜ëŠ”ë°,

    - ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì— ë”°ë¼ì„œ ë  ë•Œë„ ìˆê³  ë˜ì§€ ì•Šì„ ë•Œë„ ìˆì–´ì„œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•  ë•Œë„ ì„±ê³µí•  ë•Œë„ ìˆë‹¤

    - ì´ê²ƒì„ flakier ë¼ê³  í•œë‹¤

    - í…ŒìŠ¤íŠ¸ëŠ” ë™ì¼í•œ ì¸í’‹ì´ ì£¼ì–´ì§€ë©´ ë™ì¼í•œ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚˜ì•¼ í•˜ëŠ”ë° í™˜ê²½ì— ë”°ë¼ ê²°ê³¼ë¥¼ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì— flakier í•œ ê²½ìš°ê°€ ìµœì•…ì˜ ê²½ìš°ë¼ê³  í•  ìˆ˜ ìˆê³  ì´ë ‡ê²Œ ë˜ëŠ” ê²ƒì„ ì¡°ì‹¬í•´ì•¼ í•œë‹¤

- **How much to mock:** With components, the distinction between a â€œunitâ€ and â€œintegrationâ€ test can be blurry. If youâ€™re testing a form, should its test also test the buttons inside of it? Or should a button component have its own test suite? Should refactoring a button ever break the form test?
  Different answers may work for different teams and products.

  - E2EëŠ” ë¸Œë¼ìš°ì € í™˜ê²½ê³¼ ìœ ì‚¬í•œ ê³³ì—ì„œ ì „ì²´ì ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” í…ŒìŠ¤íŠ¸

  - ìœ ë‹›ê³¼ í†µí•©ì€ ì• ë§¤í•œ ë¶€ë¶„ì´ ìˆë‹¤.

  - í•˜ì§€ë§Œ í†µìƒì ìœ¼ë¡œ ìœ ë‹›ì€ í•˜ë‚˜ì˜ ë‹¨ìœ„ì´ë¯€ë¡œ, ìœ í‹¸ í•¨ìˆ˜ë¼ë˜ì§€ API ì„œë¹„ìŠ¤ ê°™ì€ í•¨ìˆ˜ í•˜ë‚˜ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” ìœ ë‹› í…ŒìŠ¤íŠ¸ë¼ê³  í•œë‹¤

  - ì»´í¬ë„ŒíŠ¸ë„ ë”± í•˜ë‚˜ì˜ ì‘ì€ ì»´í¬ë„ŒíŠ¸ ë¼ë©´ ìœ ë‹› í…ŒìŠ¤íŠ¸

  - ì»´í¬ë„ŒíŠ¸ê°€ ì—¬ëŸ¬ê°œ ìˆëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¼ë©´ í†µí•© í…ŒìŠ¤íŠ¸

  - ì»´í¬ë„ŒíŠ¸ì§€ë§Œ API í™¤ê»˜ ë¬¶ì—¬ì„œ í…ŒìŠ¤íŠ¸ í•œë‹¤ë©´ í†µí•© í…ŒìŠ¤íŠ¸ë¼ê³  ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤

  - ëª…í™•í•œ ëª…ì¹­ì„ ë¶™ì´ëŠ” ê²ƒì€ ê·¸ë ‡ê²Œ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤

  - ìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, Rendering component trees ì¸ì§€ Running a complete app ì¸ì§€ ì •ë„ë§Œ êµ¬ë¶„í•´ë„ ì¶©ë¶„í•˜ë‹¤

### Q. realistic enviromnetê°€ flakyí•œ ì´ìœ ê°€ ê¶ê¸ˆí•©ë‹ˆë‹¤.

- í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í• ë•ŒëŠ” Iteration speed ì™€ realistic environment ë‘ê°€ì§€ì— íŠ¸ë ˆì´ë“œì˜¤í”„ê°€ ë°œìƒí•œë‹¤ê³  ì„¤ëª…í•´ì£¼ì…¨ëŠ”ë°ìš”.

- Realistic environment ì—ì„œëŠ” ì™œ flaky í•œê±´ê°€ìš”? ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ë‹¤ì–‘í•œ ìƒí™©?ê³¼ ë³€ìˆ˜ë“¤ì´ ì¡´ì¬í•´ì„œ ê·¸ëŸ°ê±¸ê¹Œìš”?

- ê·¸ëŸ°ë° ê²°êµ­ì— ì´ëŸ° ì‹¤ì œ í™˜ê²½ì—ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ ë™ì‘í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ê²ƒì¸ë° ì˜ ë‹¤ë“¬ì–´ì§„ í™˜ê²½?ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë©´

- ì‹¤ì œ í™˜ê²½ê³¼ ê°€ê¹ê²Œ ëŒ€ì‘í•˜ì§€ ëª»í•  ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ì€ë° ì–´ë–»ê²Œ ì´í•´í•˜ë©´ ë ê¹Œìš”?

### A.

> ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ë‹¤ì–‘í•œ ìƒí™©?ê³¼ ë³€ìˆ˜ë“¤ì´ ì¡´ì¬í•´ì„œ ê·¸ëŸ°ê±¸ê¹Œìš”?

- ë„¤, ë§ìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸í•  í™˜ê²½ ì…‹ì—…ê¹Œì§€ ì‹œê°„ì´ ë§ì´ ì†Œìš” ë˜ê³ , ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ë° í•˜ë“œì›¨ì–´ ìƒíƒœì— ë”°ë¼ í…ŒìŠ¤íŠ¸ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ì£  (í•œë§ˆë””ë¡œ ì¼ê´€ì„±ì´ ì—†ìŒ)

- ì‹¤ì œ ì‚¬ìš©ì ì‹¤í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ í•´ì•¼ í•  ë‚´ìš©ì´ë¼ë©´ ë‹¹ì—°íˆ ê·¸ë ‡ê²Œ í•˜ëŠ”ê²Œ ë§ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì€ ìœ ë‹›í…ŒìŠ¤íŠ¸ ë§Œìœ¼ë¡œë„ ê²€ì¦ì´ ê°€ëŠ¥í•˜ë‹µë‹ˆë‹¤. ìœ ë‹›í…ŒìŠ¤íŠ¸ë¡œë„ ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤ë³„ë¡œ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•œë°, ì´ê±¸ êµ¬ì§€ ë¹„ìš©ì´ ë¹„ì‹¼ E2Eì—ì„œ ì§„í–‰í•  í•„ìš”ëŠ” ì—†ë‹¤ê³  ìƒê°í•´ìš” :)

## 6.6 ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŒ…!

### Recommended Tools

- Jest is a JavaScript test runner that lets you access the DOM via jsdom. While jsdom is only an approximation of how the browser works, it is often good enough for testing React components. Jest provides a great iteration speed combined with powerful features like mocking modules and timers so you can have more control over how the code executes.

  - jsdomì€ ì‹¤ì œ ë¸Œë¼ìš°ì €ì—ì„œ ë°œìƒí•˜ëŠ” domì€ ì•„ë‹ˆì§€ë§Œ ë¸Œë¼ìš°ì €ì—ì„œ ì´ë ‡ê²Œ dom ë§Œë“¤ì–´ì§€ê² ë‹¤ë¼ê³  í•˜ëŠ” ê°€ìƒì˜ dom

  - ë©”ëª¨ë¦¬ ìƒì—ì„œë§Œ ì¡´ì¬í•˜ëŠ” dom

  - ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ë Œë”ë§í•˜ê²Œ ë˜ë©´, ì‹¤ì œ ë¸Œë¼ìš°ì €ì— ë Œë”ë§ ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ jsdomì´ë¼ëŠ” ê²ƒì„ í†µí•´ ê°€ìƒìœ¼ë¡œ dom ì²˜ëŸ¼ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒ

- React Testing Library is a set of helpers that let you test React components without relying on their implementation details. This approach makes refactoring a breeze and also nudges you towards best practices for accessibility. Although it doesnâ€™t provide a way to â€œshallowlyâ€ render a component without its children, a test runner like Jest lets you do this by mocking.

  - Jestë¡œë„ ì¶©ë¶„í•  ìˆ˜ ìˆì§€ë§Œ, React Testing Libraryë¥¼ ì‚¬ìš©í•˜ë©´ ì¡°ê¸ˆ ë” í…ŒìŠ¤íŠ¸ë¥¼ ê°„í¸í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

  - ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ êµ¬í˜„ ì‚¬í•­ì— ì˜ì¡´í•˜ì§€ ì•Šê³  í…ŒìŠ¤íŠ¸ë¥¼ ê°„í¸í•˜ê²Œ í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤€ë‹¤

  - ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸ í•  ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–¤ css class ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ”ì§€ ì–´ë–¤ ì½”ë“œë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ ì˜ì¡´í•˜ì§€ ì•Šê³ 

  - í™”ë©´ ìƒì˜, ì‚¬ìš©ìê°€ ë³¼ ë•Œ, íŠ¹ì • í…ìŠ¤íŠ¸ê°€ ë³´ì—¬ì§€ëŠ” ë“±ê³¼ ê°™ì´ ì‚¬ìš©ì ê´€ì ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤€ë‹¤

  - ì´ëŸ° ì ‘ê·¼ë²•ì€ ë¦¬íŒ©í† ë§ì„ ì† ì‰½ê²Œ ë§Œë“¤ì–´ì£¼ê³  ì›¹ ì ‘ê·¼ì„±ì´ë‚˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ”ë° ìˆì–´ì„œ ì¢‹ì€ ì›ì¹™ì„ ë”°ë¼ê°ˆ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

  - í•˜ì§€ë§Œ React Testing Library ìì²´ë¡œëŠ” ìì‹ ë…¸ë“œë“¤ì„ ê°€ë³ê²Œ ë Œë”ë§í•˜ëŠ” ê²ƒì€ ì œê³µí•´ì£¼ì§€ ì•ŠëŠ”ë‹¤

  - ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜ë§Œ í…ŒìŠ¤íŠ¸ í•  ê²ƒì´ì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°–ê³  ìˆë‹¤ë©´ ê·¸ ì»´í¬ë„ŒíŠ¸ë“¤ë„ ë Œë”ë§í•˜ê²Œ ëœë‹¤

  - ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ë¥¸ ì˜ì¡´ì„±ì„ ê°–ê³  ìˆë‹¤ë©´ ê·¸ ì˜ì¡´ì„± ê¹Œì§€ ë‹¤ ì„¸íŒ…ì„ í•´ì£¼ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì¡°ê¸ˆì€ ê¹Œë‹¤ë¡œìš¸ ìˆ˜ ìˆì§€ë§Œ

  - Jestë¥¼ ì‚¬ìš©í•˜ê³  ìˆê³  JestëŠ” mockingì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì—, Jestë¥¼ í†µí•´ì„œ mockingí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í¬ê²Œ ë¬¸ì œëŠ” ì—†ë‹¤

---

## 6.7 ê³µì‹ ë¬¸ì„œë¡œ í™•ì¸í•˜ê¸°

### React Testing Library

- React Testing Library builds on top of DOM Testing Library by adding APIs for working with React components.

### This solution

- The React Testing Library is a very light-weight solution for testing React components. It provides light utility functions on top of react-dom and react-dom/test-utils, in a way that encourages better testing practices. Its primary guiding principle is:
